{
  "openapi": "3.0.1",
  "info": {
    "title": "api模块",
    "description": "这是评论相关的接口定义。",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "/api/auth/"
    },
    {
      "name": "/api/user/"
    },
    {
      "name": "/api/common/"
    },
    {
      "name": "/api/post/"
    },
    {
      "name": "/api/tag/"
    },
    {
      "name": "/api/comment/"
    },
    {
      "name": "/api/post"
    }
  ],
  "paths": {
    "/api/auth/login/wechat": {
      "post": {
        "summary": "微信一键登陆",
        "deprecated": false,
        "description": "1. 前端调用 wx.login 获取 code。\n2. 后端调用 code2Session 获取 openid。\n3. 后端查库：\n- 若存在： 返回用户信息。\n- 若不存在： 自动注册，写入默认昵称(\"微信用户\")和默认头像，返回 isNewUser: true。\n4. 注意： 前端收到 isNewUser: true 后，必须跳转到“完善资料页”，调用上传接口和更新资料接口，完成头像昵称的收集。",
        "tags": [
          "/api/auth/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "description": "必填，小程序端通过 wx.login 获取的临时凭证",
                    "type": "string"
                  }
                },
                "required": [
                  "code"
                ]
              },
              "example": "{\n  \"code\": \"081K...\" // 必填，小程序端通过 wx.login 获取的临时凭证\n}"
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string"
                        },
                        "userInfo": {
                          "type": "object",
                          "properties": {
                            "userId": {
                              "type": "string"
                            },
                            "nickname": {
                              "type": "string"
                            },
                            "avatar": {
                              "type": "string",
                              "description": "从OSS获取的URL"
                            },
                            "email": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "userId",
                            "nickname",
                            "avatar",
                            "email"
                          ]
                        },
                        "isNewUser": {
                          "description": "前端注意：true 则弹窗绑定邮箱",
                          "type": "boolean"
                        },
                        "hasPassword": {
                          "description": "前端注意：false 则在设置页引导设密码",
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "token",
                        "userInfo",
                        "isNewUser",
                        "hasPassword"
                      ]
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 20000,
                  "message": "登录成功",
                  "data": {
                    "token": "eyJhbGciOiJIUzI1NiJ9.eyJ1c2Vy...",
                    "userInfo": {
                      "userId": "10086",
                      "nickname": "微信用户",
                      "avatar": "https://oss.example.com/default.png",
                      "email": null
                    },
                    "isNewUser": true,
                    "hasPassword": false
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40001,
                  "message": "请求参数错误",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40301,
                  "message": "账号已被禁用",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/api/auth/login/account": {
      "post": {
        "summary": "账号密码登陆",
        "deprecated": false,
        "description": "可在登录页点击账户登录，输入账户和密码，若不匹配弹出提示",
        "tags": [
          "/api/auth/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "account": {
                    "description": "邮箱或用户名",
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                },
                "required": [
                  "account",
                  "password"
                ]
              },
              "example": "{\n  \"account\": \"garhlz257@163.com\", // 邮箱或用户名\n  \"password\": \"123456\"\n}"
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string"
                        },
                        "userInfo": {
                          "type": "object",
                          "properties": {
                            "userId": {
                              "type": "string"
                            },
                            "nickname": {
                              "type": "string"
                            },
                            "avatar": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "userId",
                            "nickname",
                            "avatar",
                            "email"
                          ]
                        },
                        "isNewUser": {
                          "type": "boolean"
                        },
                        "hasPassword": {
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "token",
                        "userInfo",
                        "isNewUser",
                        "hasPassword"
                      ]
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "登录成功",
                  "data": {
                    "token": "eyJhbGciOiJIUzI1Ni...",
                    "userInfo": {
                      "userId": "10086",
                      "nickname": "小青",
                      "avatar": "https://oss...",
                      "email": "elaine@szu.edu.cn"
                    },
                    "isNewUser": false,
                    "hasPassword": true
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40001,
                  "message": "请求参数错误",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40301,
                  "message": "账号已被禁用",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40401,
                  "message": "该账号未注册",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/api/auth/send-code": {
      "post": {
        "summary": "发送邮箱验证码",
        "deprecated": false,
        "description": "点击验证码输入框右侧的“发送验证码”按键\n这个接口仅用于绑定邮箱",
        "tags": [
          "/api/auth/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  }
                },
                "required": [
                  "email"
                ]
              },
              "example": {
                "email": "garhlz257@163.com"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "验证码已发送",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40001,
                  "message": "请求参数错误",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40901,
                  "message": "该邮箱已被其他账号绑定",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "429": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 42901,
                  "message": "操作太频繁，请稍后再试",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 50000,
                  "message": "服务器开小差了",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/api/auth/password/reset": {
      "post": {
        "summary": "重置密码/忘记密码（用户未登录）",
        "deprecated": false,
        "description": "用户未登录的时候忘记密码，需要输入邮箱和验证码\n前端在调用的时候需要先向邮箱发送验证码",
        "tags": [
          "/api/auth/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "code": {
                    "type": "string"
                  },
                  "newPassword": {
                    "type": "string"
                  }
                },
                "required": [
                  "email",
                  "newPassword",
                  "code"
                ]
              },
              "example": {
                "email": "garhlz257@163.com",
                "code": "595335",
                "newPassword": "123456"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "密码重置成功",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40002,
                  "message": "验证码错误或已失效",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40401,
                  "message": "该账号未注册",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/api/user/bind-email": {
      "post": {
        "summary": "绑定邮箱",
        "deprecated": false,
        "description": "微信登录用户的补充动作，前端需要根据isNewUser字段判断是否要弹出窗口",
        "tags": [
          "/api/user/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "code": {
                    "type": "string"
                  }
                },
                "required": [
                  "email",
                  "code"
                ]
              },
              "example": {
                "email": "garhlz257@163.com",
                "code": "992636"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "email": {
                          "description": "返回更新后的邮箱",
                          "type": "string"
                        }
                      },
                      "required": [
                        "email"
                      ]
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "绑定成功",
                  "data": {
                    "email": "elaine@szu.edu.cn"
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40002,
                  "message": "验证码错误或已失效",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40101,
                  "message": "请先登录",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40901,
                  "message": "该邮箱已被其他账号绑定",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/user/profile": {
      "get": {
        "summary": "获取个人资料",
        "deprecated": false,
        "description": "这是进入“我的”页面时调用的接口，返回所有展示需要的数据。\n从携带的token获取用户id",
        "tags": [
          "/api/user/"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userId": {
                          "type": "integer"
                        },
                        "nickname": {
                          "type": "string"
                        },
                        "avatar": {
                          "type": "string"
                        },
                        "bio": {
                          "type": "string"
                        },
                        "gender": {
                          "description": "0:保密, 1:男, 2:女",
                          "type": "integer"
                        },
                        "birthday": {
                          "description": "格式 yyyy-MM-dd",
                          "type": "string"
                        },
                        "region": {
                          "type": "string"
                        },
                        "email": {
                          "description": "用于显示绑定的邮箱",
                          "type": "string"
                        },
                        "hasPassword": {
                          "description": "前端根据此字段判断显示“设置密码”还是“修改密码”",
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "userId",
                        "nickname",
                        "avatar",
                        "bio",
                        "gender",
                        "birthday",
                        "region",
                        "email",
                        "hasPassword"
                      ]
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "获取个人资料成功",
                  "data": {
                    "userId": "10086",
                    "nickname": "小青",
                    "avatar": "https://oss.../avatar.jpg",
                    "bio": "这个人很神秘，什么话都没有写",
                    "gender": 2,
                    "birthday": "2003-05-20",
                    "region": "广东 深圳",
                    "email": "elaine@szu.edu.cn",
                    "hasPassword": false
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      },
      "put": {
        "summary": "修改个人资料",
        "deprecated": false,
        "description": "这是一个聚合更新接口。前端只传需要修改的字段，不想改的字段不传，或传原值",
        "tags": [
          "/api/user/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nickname": {
                    "description": "选填",
                    "type": "string"
                  },
                  "avatar": {
                    "description": "选填 (上传接口返回的URL)",
                    "type": "string"
                  },
                  "bio": {
                    "description": "选填",
                    "type": "string"
                  },
                  "gender": {
                    "description": "选填 (0, 1, 2)",
                    "type": "integer"
                  },
                  "birthday": {
                    "description": "选填 (yyyy-MM-dd)",
                    "type": "string"
                  },
                  "region": {
                    "description": "选填",
                    "type": "string"
                  }
                },
                "required": [
                  "nickname",
                  "avatar",
                  "bio",
                  "gender",
                  "birthday",
                  "region"
                ]
              },
              "example": "{\n  \"nickname\": \"Elaine\",         // 选填\n  \"avatar\": \"https://afternoon3-rednote.oss-cn-shenzhen.aliyuncs.com/shadow.jpg\",   // 选填 (上传接口返回的URL)\n  \"bio\": \"Elaine的测试账号\",          // 选填\n  \"gender\": 2,                  // 选填 (0, 1, 2)\n  \"birthday\": \"2005-08-21\",     // 选填 (yyyy-MM-dd)\n  \"region\": \"广东 深圳\"          // 选填\n}"
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "资料更新成功",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "description": "或者返回更新后的完整 profile",
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40001,
                  "message": "请求参数错误",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/user/password/set": {
      "post": {
        "summary": "首次设置密码 (验证邮箱)",
        "deprecated": false,
        "description": "未设置过密码的用户，在输入邮箱验证码后，再输入两次密码，完成密码设置",
        "tags": [
          "/api/user/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "description": "邮箱验证码 (调用 /api/auth/send-code 获取)",
                    "type": "string"
                  },
                  "password": {
                    "description": "新密码",
                    "type": "string"
                  }
                },
                "required": [
                  "code",
                  "password"
                ]
              },
              "example": "{\n  \"code\": \"123456\",            // 邮箱验证码 (调用 /api/auth/send-code 获取)\n  \"password\": \"NewPassword123!\" // 新密码\n}"
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "密码设置成功",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40002,
                  "message": "验证码错误或已失效",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40902,
                  "message": "已设置过密码，请调用修改密码接口",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/user/password/change": {
      "post": {
        "summary": "修改密码 (验证旧密码)",
        "deprecated": false,
        "description": "已设置过密码的用户，输入一次原密码进行身份验证，再输入新密码",
        "tags": [
          "/api/user/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "oldPassword": {
                    "description": "旧密码",
                    "type": "string"
                  },
                  "newPassword": {
                    "description": "新密码",
                    "type": "string"
                  }
                },
                "required": [
                  "oldPassword",
                  "newPassword"
                ]
              },
              "example": "{\n  \"oldPassword\": \"OldPassword123!\", // 旧密码\n  \"newPassword\": \"NewPassword123!\"  // 新密码\n}"
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "密码修改成功",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40006,
                  "message": "旧密码错误",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/user/follows/{userId}": {
      "get": {
        "summary": "获取关注列表",
        "deprecated": false,
        "description": "根据userId获取某人的关注列表，支持分页查询",
        "tags": [
          "/api/user/"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "",
            "required": true,
            "example": 3,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "userId": {
                                "type": "string"
                              },
                              "nickname": {
                                "type": "string"
                              },
                              "avatar": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "records",
                        "total"
                      ],
                      "nullable": true
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "success",
                  "data": {
                    "records": [
                      {
                        "userId": "1002",
                        "nickname": "关注者A",
                        "avatar": "..."
                      }
                    ],
                    "total": 5
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/user/fans/{userId}": {
      "get": {
        "summary": "获取粉丝列表",
        "deprecated": false,
        "description": "根据userId获取某人的粉丝列表，支持分页查询",
        "tags": [
          "/api/user/"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "",
            "required": true,
            "example": "3",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "userId": {
                                "type": "string"
                              },
                              "nickname": {
                                "type": "string"
                              },
                              "avatar": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "records",
                        "total"
                      ],
                      "nullable": true
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "success",
                  "data": {
                    "records": [
                      {
                        "userId": "1002",
                        "nickname": "被关注者A",
                        "avatar": "..."
                      }
                    ],
                    "total": 5
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/user/follow": {
      "post": {
        "summary": "关注用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "/api/user/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "targetUserId": {
                    "type": "string",
                    "description": "被关注者的ID"
                  }
                },
                "required": [
                  "targetUserId"
                ]
              },
              "example": {
                "targetUserId": "5"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/user/unfollow": {
      "post": {
        "summary": "取消关注用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "/api/user/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "targetUserId": {
                    "type": "string",
                    "description": "被关注者的ID"
                  }
                },
                "required": [
                  "targetUserId"
                ]
              },
              "examples": {}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/common/upload": {
      "post": {
        "summary": "文件上传(OSS)",
        "deprecated": false,
        "description": "通用的文件上传接口，前端上传文件，后端存入OSS服务器，返回UUID生成的url",
        "tags": [
          "/api/common/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "format": "binary",
                    "type": "string",
                    "description": "图片/视频文件二进制流",
                    "example": "cmMtdXBsb2FkLTE3NjQ1ODMyMjk1NzItNg==/pasted file.png"
                  }
                },
                "required": [
                  "file"
                ]
              },
              "examples": {}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "url"
                      ]
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "上传成功",
                  "data": {
                    "url": "https://szu-redbook.oss-cn-shenzhen.aliyuncs.com/avatar/uuid_123.jpg"
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/api/post/list": {
      "get": {
        "summary": "获取首页帖子流",
        "deprecated": false,
        "description": "获取首页推荐、关注或标签筛选的帖子列表。支持分页。",
        "tags": [
          "/api/post/"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "tab",
            "in": "query",
            "description": "Tab类型：recommend(推荐), follow(关注)。默认为 recommend",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "\"recommend\"",
                "\"follow\""
              ],
              "default": "\"recommend\""
            }
          },
          {
            "name": "tag",
            "in": "query",
            "description": "标签筛选（选填）。如果用户点击了具体的标签（如'美食'），则传此参数，此时忽略 tab 参数",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "author": {
                                "type": "object",
                                "properties": {
                                  "userId": {
                                    "type": "string"
                                  },
                                  "nickname": {
                                    "type": "string"
                                  },
                                  "avatar": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "userId",
                                  "nickname",
                                  "avatar"
                                ]
                              },
                              "title": {
                                "type": "string"
                              },
                              "content": {
                                "type": "string"
                              },
                              "type": {
                                "type": "integer"
                              },
                              "images": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "likeCount": {
                                "type": "integer"
                              },
                              "collectCount": {
                                "type": "integer"
                              },
                              "isLiked": {
                                "type": "boolean"
                              },
                              "isCollected": {
                                "type": "boolean"
                              },
                              "createdAt": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "current": {
                          "type": "integer"
                        },
                        "size": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "records",
                        "total",
                        "current",
                        "size"
                      ]
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 20000,
                  "message": "获取成功",
                  "data": {
                    "records": [
                      {
                        "id": "656e12...",
                        "author": {
                          "userId": "10086",
                          "nickname": "小青",
                          "avatar": "http://..."
                        },
                        "title": "Arch Linux折腾笔记",
                        "content": "今天安装了KDE...",
                        "type": 0,
                        "images": [
                          "http://..."
                        ],
                        "likeCount": 102,
                        "collectCount": 20,
                        "isLiked": true,
                        "isCollected": false,
                        "createdAt": "2023-11-02 12:00:00"
                      }
                    ],
                    "total": 100,
                    "current": 1,
                    "size": 10
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "title": "",
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {}
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 40101,
                  "message": "请先登录",
                  "data": null
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "title": "",
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {}
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 50001,
                  "message": "服务器开小差了",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/post/search": {
      "get": {
        "summary": "搜索帖子",
        "deprecated": false,
        "description": "根据关键词模糊搜索标题和内容",
        "tags": [
          "/api/post/"
        ],
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "搜索关键词",
            "required": true,
            "example": "123",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "author": {
                                "type": "object",
                                "properties": {
                                  "userId": {
                                    "type": "string"
                                  },
                                  "nickname": {
                                    "type": "string"
                                  },
                                  "avatar": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "userId",
                                  "nickname",
                                  "avatar"
                                ]
                              },
                              "title": {
                                "type": "string"
                              },
                              "content": {
                                "type": "string"
                              },
                              "type": {
                                "type": "integer"
                              },
                              "images": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "likeCount": {
                                "type": "integer"
                              },
                              "collectCount": {
                                "type": "integer"
                              },
                              "isLiked": {
                                "type": "boolean"
                              },
                              "isCollected": {
                                "type": "boolean"
                              },
                              "createdAt": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "current": {
                          "type": "integer"
                        },
                        "size": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "records",
                        "total",
                        "current",
                        "size"
                      ]
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 20000,
                  "message": "获取成功",
                  "data": {
                    "records": [
                      {
                        "id": "656e12...",
                        "author": {
                          "userId": "10086",
                          "nickname": "小青",
                          "avatar": "http://..."
                        },
                        "title": "Arch Linux折腾笔记",
                        "content": "今天安装了KDE...",
                        "type": 0,
                        "images": [
                          "http://..."
                        ],
                        "likeCount": 102,
                        "collectCount": 20,
                        "isLiked": true,
                        "isCollected": false,
                        "createdAt": "2023-11-02 12:00:00"
                      }
                    ],
                    "total": 100,
                    "current": 1,
                    "size": 10
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/post/{id}": {
      "get": {
        "summary": "获取帖子详情",
        "deprecated": false,
        "description": "进入帖子详情页时调用。包含完整的正文内容和高精度的图片/视频。",
        "tags": [
          "/api/post/"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "帖子ID (Mongo ObjectId)",
            "required": true,
            "example": "1",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "author": {
                          "type": "object",
                          "properties": {
                            "userId": {
                              "type": "string"
                            },
                            "nickname": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "userId",
                            "nickname"
                          ]
                        },
                        "title": {
                          "type": "string"
                        },
                        "content": {
                          "type": "string"
                        },
                        "type": {
                          "type": "integer"
                        },
                        "images": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "videos": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "likeCount": {
                          "type": "integer"
                        },
                        "collectCount": {
                          "type": "integer"
                        },
                        "commentCount": {
                          "type": "integer"
                        },
                        "isLiked": {
                          "type": "boolean"
                        },
                        "isCollected": {
                          "type": "boolean"
                        },
                        "isFollowed": {
                          "type": "boolean"
                        },
                        "createdAt": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "author",
                        "title",
                        "content",
                        "type",
                        "images",
                        "videos",
                        "likeCount",
                        "collectCount",
                        "commentCount",
                        "isLiked",
                        "isCollected",
                        "isFollowed",
                        "createdAt"
                      ],
                      "nullable": true
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 20000,
                  "message": "获取成功",
                  "data": {
                    "id": "656e...",
                    "author": {
                      "userId": "1001",
                      "nickname": "..."
                    },
                    "title": "完整标题",
                    "content": "这里是非常长的完整正文内容...",
                    "type": 0,
                    "images": [
                      "url1",
                      "url2",
                      "url3"
                    ],
                    "videos": [
                      "url1",
                      "url2",
                      "url3"
                    ],
                    "likeCount": 100,
                    "collectCount": 50,
                    "commentCount": 12,
                    "isLiked": true,
                    "isCollected": true,
                    "isFollowed": false,
                    "createdAt": "2023-11-02 12:00:00"
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      },
      "delete": {
        "summary": "删除帖子",
        "deprecated": false,
        "description": "仅限作者本人或管理员调用。后端需要检查权限",
        "tags": [
          "/api/post/"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "需要删除的帖子id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {},
                      "description": "数据"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "success",
                  "data": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/post/{userId}": {
      "get": {
        "summary": "获取用户的帖子",
        "deprecated": false,
        "description": "",
        "tags": [
          "/api/post/"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/post": {
      "post": {
        "summary": "发布帖子",
        "deprecated": false,
        "description": "发布图文或视频笔记。前端需先调用文件上传接口获取URL，再填入images或video字段。",
        "tags": [
          "/api/post/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "标题"
                  },
                  "content": {
                    "type": "string",
                    "description": "正文内容"
                  },
                  "type": {
                    "type": "integer",
                    "description": "0:图文, 1:视频"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "图片URL列表 (type=0时必填)"
                  },
                  "videos": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "视频URL列表 (type=1时必填)"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "标签列表，如 ['美食', '探店']"
                  }
                },
                "required": [
                  "title",
                  "content",
                  "type"
                ]
              },
              "example": {
                "title": {
                  "type": "string",
                  "description": "标题"
                },
                "content": {
                  "type": "string",
                  "description": "正文内容"
                },
                "type": {
                  "type": "integer",
                  "description": "0:图文, 1:视频"
                },
                "images": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "图片URL列表 (type=0时必填)"
                },
                "videos": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "视频URL列表 (type=1时必填)"
                },
                "tags": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "标签列表，如 ['美食', '探店']"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "帖子id"
                        }
                      },
                      "required": [
                        "id"
                      ]
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "发布成功",
                  "data": {
                    "id": "656e..."
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/post/like": {
      "post": {
        "summary": "点赞帖子",
        "deprecated": false,
        "description": "",
        "tags": [
          "/api/post/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "postId": {
                    "type": "string"
                  }
                },
                "required": [
                  "postId"
                ]
              },
              "examples": {}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/post/unlike": {
      "post": {
        "summary": "取消点赞帖子",
        "deprecated": false,
        "description": "",
        "tags": [
          "/api/post/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "postId": {
                    "type": "string"
                  }
                },
                "required": [
                  "postId"
                ]
              },
              "examples": {}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 200,
                  "message": "success",
                  "data": null
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/post/collect": {
      "post": {
        "summary": "收藏帖子",
        "deprecated": false,
        "description": "",
        "tags": [
          "/api/post/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "postId": {
                    "type": "string"
                  }
                },
                "required": [
                  "postId"
                ]
              },
              "examples": {}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/post/uncollect": {
      "post": {
        "summary": "取消收藏帖子",
        "deprecated": false,
        "description": "",
        "tags": [
          "/api/post/"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "postId": {
                    "type": "string"
                  }
                },
                "required": [
                  "postId"
                ]
              },
              "examples": {}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/tag/hot": {
      "get": {
        "summary": "获取热门/推荐标签",
        "deprecated": false,
        "description": "用于首页顶部的横向滚动标签栏",
        "tags": [
          "/api/tag/"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [
                    "code",
                    "message",
                    "data"
                  ]
                },
                "example": {
                  "code": 20000,
                  "message": "获取成功",
                  "data": [
                    "推荐",
                    "穿搭",
                    "美食",
                    "彩妆",
                    "影视",
                    "职场",
                    "情感",
                    "家居",
                    "游戏",
                    "旅行"
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/comment/list": {
      "get": {
        "summary": "获取评论列表",
        "deprecated": false,
        "description": "获取某个帖子的评论，默认按时间倒序。支持分页。",
        "tags": [
          "/api/comment/",
          "/api/post"
        ],
        "parameters": [
          {
            "name": "postId",
            "in": "query",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "content": {
                                "type": "string"
                              },
                              "userNickname": {
                                "type": "string"
                              },
                              "userAvatar": {
                                "type": "string"
                              },
                              "createdAt": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/comment": {
      "post": {
        "summary": "发表评论",
        "deprecated": false,
        "description": "",
        "tags": [
          "/api/comment/",
          "/api/post"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "postId": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "parentId": {
                    "type": "string",
                    "description": "可选，若为回复评论则填父评论ID"
                  }
                },
                "required": [
                  "postId",
                  "content"
                ]
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "example": {
                  "code": 20000,
                  "message": "评论成功"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    },
    "/api/comment/{id}": {
      "delete": {
        "summary": "删除评论",
        "deprecated": false,
        "description": "",
        "tags": [
          "/api/comment/",
          "/api/post"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "example": {
                  "code": 20000,
                  "message": "删除成功"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "jwt": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {},
    "responses": {
      "成功": {
        "description": "",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer"
                },
                "message": {
                  "type": "string"
                },
                "data": {
                  "type": "object",
                  "properties": {}
                }
              },
              "required": [
                "code",
                "message",
                "data"
              ]
            },
            "examples": {
              "示例 1": {
                "summary": "示例 1",
                "value": {
                  "code": 200,
                  "message": "success",
                  "data": null
                }
              }
            }
          }
        }
      },
      "请求参数错误": {
        "description": "",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer"
                },
                "message": {
                  "description": "description: 必填项缺失、格式不对（如邮箱格式错）",
                  "type": "string"
                },
                "data": {
                  "type": "null"
                }
              },
              "required": [
                "code",
                "message",
                "data"
              ]
            },
            "examples": {
              "示例 1": {
                "summary": "示例 1",
                "value": {
                  "code": 40001,
                  "message": "请求参数错误",
                  "data": null
                }
              }
            }
          }
        }
      },
      "验证码错误或已失效": {
        "description": "",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer"
                },
                "message": {
                  "description": "description: 绑定邮箱/重置密码时，验证码输错",
                  "type": "string"
                },
                "data": {
                  "type": "null"
                }
              },
              "required": [
                "code",
                "message",
                "data"
              ]
            },
            "examples": {
              "示例 1": {
                "summary": "示例 1",
                "value": {
                  "code": 40002,
                  "message": "验证码错误或已失效",
                  "data": null
                }
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "jwt": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "servers": [],
  "security": [
    {
      "jwt": []
    }
  ]
}